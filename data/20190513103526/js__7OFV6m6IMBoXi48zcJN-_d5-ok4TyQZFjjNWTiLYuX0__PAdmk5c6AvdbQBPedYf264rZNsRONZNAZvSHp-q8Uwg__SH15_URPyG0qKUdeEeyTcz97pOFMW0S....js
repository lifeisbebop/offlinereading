(function(i){Drupal.behaviors.fa_utility={attach:function(t,e){var a=!1;if(!i('#FA_ADBLK_DTCT_1029sl1A').length){a=!0};if(a){i('div[data-ad-id].full-width-speed-bump').remove()}}}})(jQuery);;/*})'"*/
;Drupal.theme.prototype.ModalFormsPopup=function(){var o='';o+='<div id="ctools-modal" class="popups-box">';o+='  <div class="ctools-modal-content modal-forms-modal-content">';o+='    <div class="popups-container">';o+='      <div class="modal-header popups-title">';o+='        <span id="modal-title" class="modal-title"></span>';o+='        <span class="popups-close close">'+Drupal.CTools.Modal.currentSettings.closeText+'</span>';o+='        <div class="clear-block"></div>';o+='      </div>';o+='      <div class="modal-scroll"><div id="modal-content" class="modal-content popups-body"></div></div>';o+='    </div>';o+='  </div>';o+='</div>';return o};;/*})'"*/
(function(t,c,e,i,n){var o;c.behaviors.facebook_icon={attach:function(c,i){t('.icon-facebook',c).once('init-facebook-icon').on('click',function(c){c.preventDefault();c.stopPropagation();if(o==null||o.closed){o=e.open(t(this).attr('href'),'Facebook','width=450, height=300, top=0, left=0')}
else{if(o.focus){o.focus()}}})}}})(jQuery,Drupal,this,this.document);;/*})'"*/
(function(i,e,n,o,c){var t;e.behaviors.twitter_icon={attach:function(e,o){i('.icon-twitter',e).once('init-twitter-icon').on('click',function(e){e.preventDefault();e.stopPropagation();if(t==null||t.closed){t=n.open(i(this).attr('href'),'Twitter','width=450, height=518')}
else{if(t.focus){t.focus()}}})}}})(jQuery,Drupal,this,this.document);;/*})'"*/
(function(o,c,e,i,n){var t;c.behaviors.pocket_icon={attach:function(c,i){o('.icon-pocket',c).once('init-pocket-icon').on('click',function(c){c.preventDefault();c.stopPropagation();if(t==null||t.closed){t=e.open(o(this).attr('href'),'Pocket','width=450, height=650, top=0, left=0')}
else{if(t.focus){t.focus()}}})}}})(jQuery,Drupal,this,this.document);;/*})'"*/
(function(e){Drupal.behaviors.audioPlayerFooter={attach:function(t,i){e('.audio-player.container').once('audio-player',function(){var i=e('#audio-player',t)[0],a=function(t){var e=new Number(),i=new Number();e=Math.floor(t);i=Math.floor(e/60);e=Math.floor(e%60);e=e>=10?e:'0'+e;return i+':'+e},r=function(){return Math.floor((i.currentTime/i.duration)*100)},n=function(e,t){return Math.floor(e*(t/100))},o=function(t){if(i.readyState>=HTMLMediaElement.HAVE_METADATA){i.currentTime=parseFloat(n(i.duration,t));e('.play-audio').trigger('click')}
else{e(i).one('canplay',function(){i.currentTime=parseFloat(n(i.duration,t));e('.play-audio').trigger('click')});i.load()}};e('.skip-fwd').on('click',function(){if(i.readyState<HTMLMediaElement.HAVE_METADATA){i.currentTime=i.currentTime+30;i.load()}
else{i.currentTime=Math.min(i.duration,i.currentTime+30)}});e('.skip-back').on('click',function(){i.currentTime=Math.max(i.currentTime-30,0);if(i.readyState<HTMLMediaElement.HAVE_METADATA){i.load()}});e('.play-audio').on('click',function(){i.play();e(this).hide();e('.pause-audio').show()});e('.pause-audio').on('click',function(){i.pause();e(this).hide();e('.play-audio').show()});e('#progressbar').on('click',function(t){var a=e(this).offset(),n=Math.floor((t.pageX-a.left)/e(this).width()*100);o(n);e(i).trigger('fa_audio_player:seek')});e(i).on('play',function(){e(i).trigger('fa_audio_player:play')});e(i).on('pause',function(){e(i).trigger('fa_audio_player:pause')});e(i).on('timeupdate',function(){e('.current-time').text(a(i.currentTime));e('.progress').width(r()+'%');e(i).trigger('fa_audio_player:timeupdate')});e(i).on('loadedmetadata',function(){e('.total-duration').text(a(i.duration))});e(i).on('ended',function(){e('.pause-audio').trigger('click');i.currentTime=0;e(i).trigger('fa_audio_player:ended')});e('body').once('audio-player-leave-warning').on('click','a',function(e){var t=e.currentTarget;if(!t.target&&t.host){try{if(!i.paused&&!i.ended&&i.currentTime>0){if(!window.confirm(Drupal.t('The audio will stop playing when you leave this page. Are you sure you want to go?'))){e.preventDefault()}}}catch(a){}}})});e('.listen-to-container .listen-to').once('listen-to',function(){e('.listen-to-container .listen-to').on('click',function(t){t.preventDefault();e('.play-audio').trigger('click')}).css('cursor','pointer')})}}})(jQuery);;/*})'"*/
(function(e){Drupal.behaviors.fa_newsletter_show_password_fields={attach:function(t){e('form.form-newsletter-signup').bind('state:visible',function(t){if(t.trigger){e(t.target).closest('.form-item, .form-submit, .form-wrapper')[t.value?'slideDown':'slideUp']();t.stopPropagation()}})}};Drupal.behaviors.fa_newsletter_select_all={attach:function(t){e('#edit-newsletter-select-all').click(function(t){if(this.checked){e('.newsletter-check').prop('checked',!0)}
else{e('.newsletter-check').prop('checked',!1)}})}};var t=function(t){if(e('.paywall-enabled').length){return!1};var a=e(t);if(typeof t=='undefined'){a=e('.fa-page-wrapper > article .article-newsletter-signup--container')};var l=e('article .top_content_at_page_load p'),r=0,n=[];l.toArray().forEach(function(t,a){if(a>=2&&r>800&&n.length==0){n=e(t)};r+=t.textContent.length});if(a.length==1&&n.length==1){n.before(a);a.removeClass('d-none');return a[0].outerHTML}};Drupal.behaviors.email_signup_embed={attach:function(a,n){var r=e('article .article-dropcap-body .article-newsletter-signup--container'),l=r.length>0;if(!l&&Drupal.behaviors.authcacheP13nAjaxFragments){t(Drupal.behaviors.email_signup_embed.signupMarkup);Drupal.behaviors.authcacheP13nAjaxFragments.attach(e('article'),Drupal.settings)}},signupMarkup:t()};Drupal.behaviors.fa_newsletter_offer_overlays_admin={attach:function(t){if(window.location.pathname.split('/')[1]=='admin'){var a='';if(e('#fa-newsletter-overlays-create-form').length){a='_new'};e('[name="newsletter_overlay_version_id'+a+'"]').on('change keyup click',function(){e('.newsletter-modal').removeClass().addClass('newsletter-modal v'+e(this).val())});e('[name="newsletter_overlay_body'+a+'"]').on('change keyup click',function(){e('.newsletter-overlay-body p').text(e(this).val())});e('[name="newsletter_overlay_header'+a+'"]').on('change keyup click',function(){e('#newsletter-head').text(e(this).val())});e('select[name="newsletter_overlay_selected_id"]').on('change keyup click',function(){if(e('select[name="newsletter_overlay_selected_id"]').val()!='0'){var n=e(this).val(),t=Drupal.settings.fa_newsletter_overlays[n];e('input[name="newsletter_overlay_version_id'+a+'"]:checked').removeAttr('checked');e('input[name="newsletter_overlay_list_id'+a+'"]:checked').removeAttr('checked');e('input[name="newsletter_overlay_header'+a+'"]').val(t.header).change();e('input[name="newsletter_overlay_body'+a+'"]').val(t.body).change();e('[name="newsletter_overlay_version_id'+a+'"]').val(t.version_id).change();e('[name="newsletter_overlay_list_id'+a+'"][value="'+t.list_id+'"]').prop('checked',!0).change();e('input[name="newsletter_overlay_image"]').val(t.image_fid);e('.newsletter-overlay-img').css('background-image','url('+t.image_url+')')}});if(e('select[name="newsletter_overlay_selected_id"]').val()!='0'){e('select[name="newsletter_overlay_selected_id"]').change()};if(e('input[name="files[newsletter_overlay_image_new]"]').length){function n(t){if(t.files&&t.files[0]){var a=new FileReader();a.onload=function(t){e('.newsletter-overlay-img').css('background-image','url('+t.target.result+')')};a.readAsDataURL(t.files[0])}};e('input[name="files[newsletter_overlay_image_new]"]').change(function(){n(this)})}}}}})(jQuery);;/*})'"*/
(function(e){if(!e.cookie('fa_gdpr')){e.cookie('fa_gdpr',{status:'show'},{expire:365,path:'/'})};Drupal.behaviors.fa_gdpr_banner={attach:function(o,r){function a(o){e(o).fadeOut();e.removeCookie('fa_gdpr');e.cookie('fa_gdpr',{status:'hide'},{expire:365,path:'/'})};e('.gdpr').once('gdpr-banner',function(){var o=this;if(!e.cookie('fa_gdpr')||(e.cookie('fa_gdpr')&&e.cookie('fa_gdpr').status=='show')){e(o).removeClass('gdpr-hidden');e('.gdpr-close',o).on('click',function(e){e.preventDefault();a(o)})}})}}})(jQuery);;/*})'"*/
